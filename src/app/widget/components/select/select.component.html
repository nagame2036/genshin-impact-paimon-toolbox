<app-form-field
  #container
  class="form-container"
  [ngClass]="{hover: hover, focus: focus}"
  [label]="label"
  (mouseenter)="hover = true"
  (mouseleave)="hover = false"
  (click)="focus = opened = true"
>
  <div class="select-container">
    <div #prefix [class.prefix]="prefix.children.length > 0">
      <ng-content select="[prefix]"></ng-content>
    </div>
    <input
      class="select"
      type="text"
      [value]="valueText | translate"
      readonly
      (focusin)="focus = opened = true"
      (focusout)="focus = false"
    />
    <div class="material-icons select-arrow" [ngClass]="{hover: hover, focus: focus}">
      keyboard_arrow_down
    </div>
    <div *ngIf="opened" [style.min-width.px]="getMinWidth(container.width)" class="select-dropdown">
      <ng-container *ngTemplateOutlet="customDropdown || defaultDropdown"></ng-container>
    </div>
    <ng-template #defaultDropdown>
      <ul>
        <ng-container *ngTemplateOutlet="customOptions || defaultOptions"></ng-container>
      </ul>
      <ng-template #defaultOptions>
        <li
          *ngFor="let option of options"
          class="select-option"
          [class.selected]="option.value === value"
          [title]="option.text | translate"
          (click)="change(option)"
        >
          {{ option.text | translate }}
        </li>
      </ng-template>
    </ng-template>
    <div #suffix [class.suffix]="suffix.children.length > 0">
      <ng-content select="[suffix]"></ng-content>
    </div>
  </div>
</app-form-field>
