<div style="display: block; margin-top: 12px">
  <div fxLayout="row" fxLayoutGap="4px">
    <mat-form-field fxFlex="1 1 12%" appearance="outline" floatLabel="always" class="app-form-field">
      <mat-label>{{ i18n.dict('sort') | translate }}</mat-label>
      <mat-select [value]="sort" (selectionChange)="sort = $event.value; update()">
        <mat-option *ngFor="let f of sortFields" [value]="f">
          {{ i18n.dict(f) | translate }}
        </mat-option>
      </mat-select>
    </mat-form-field>
    <mat-form-field fxFlex="1 1 12%" appearance="outline" floatLabel="always" class="app-form-field">
      <mat-label>{{ i18n.dict('rarity') | translate }}</mat-label>
      <mat-select [value]="rarityFilter" (selectionChange)="changeRarityFilter($event)" multiple>
        <mat-option *ngFor="let rarity of rarities" [value]="rarity">
          {{ rarity }}
        </mat-option>
      </mat-select>
    </mat-form-field>
    <mat-form-field fxFlex="1 1 12%" appearance="outline" floatLabel="always" class="app-form-field">
      <mat-label>{{ i18n.dict('element') | translate }}</mat-label>
      <mat-select [value]="elementFilter" (selectionChange)="changeElementFilter($event)" multiple>
        <mat-option *ngFor="let t of elementTypes" [value]="t">
          {{ i18n.dict('elements.' + t) | translate }}
        </mat-option>
      </mat-select>
    </mat-form-field>
    <mat-form-field fxFlex="1 1 12%" appearance="outline" floatLabel="always" class="app-form-field">
      <mat-label>{{ i18n.dict('weapon') | translate }}</mat-label>
      <mat-select [value]="weaponFilter" (selectionChange)="changeWeaponFilter($event)" multiple>
        <mat-option *ngFor="let t of weaponTypes" [value]="t">
          {{ i18n.dict('weapon-types.' + t) | translate }}
        </mat-option>
      </mat-select>
    </mat-form-field>
    <ng-content select="[list-actions]"></ng-content>
  </div>
  <cdk-virtual-scroll-viewport [style]="'height: ' + height + 'vh'" itemSize="50">
    <div fxLayout="row wrap" fxLayoutGap="24px" style="margin: 4px">
      <app-item-view *ngFor="let item of items" class="items-list-item" [width]="itemWidth" #list (click)="select(item)"
                     category="characters" [id]="item.id" [rarity]="item.rarity">
        <div image-top-left>
          <img class="character-list-element-hint" [src]="images.get('elements', item.element)"
               [alt]="i18n.dict('elements.' + item.element) | translate">
        </div>
        <div image-top-right>
          <img class="weapon-type-hint" [src]="images.get('weapon-types', item.weapon)"
               [alt]="i18n.dict('weapon-types.' + item.weapon) | translate">
        </div>
        <ng-container container-right *ngIf="party && rightTemplateRef"
                      [ngTemplateOutlet]="rightTemplateRef" [ngTemplateOutletContext]="{$implicit: item}">
        </ng-container>
      </app-item-view>
    </div>
  </cdk-virtual-scroll-viewport>
</div>
